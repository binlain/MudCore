Lua API(zmq):

mud.zmq.send(endpoint, msg, callback) creates a ZMQ_REQ socket,
connects it to ENDPOINT, sends MSG and polls it (as part of the normal
event loop) until a reply is received. When this happens, it calls
CALLBACK (a unary function) and closes the socket.

TODO:
- telnet linemode

- Move zmq api to a callback-focussed setup: there's no reason for
  there to be one privileged rep/pub socket:

  foo = mud.zmq.socket('req')
  foo.send(bar, function (response) end)
