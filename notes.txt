Descriptors:
Append '\n' before sending out stuff from a prompt?

All lines are processed asap. When a player thread yields for the next
line, an optional parameter sets the minimum delay before a line can
be sent.

Lua API(zmq):

mud.zmq.send(endpoint, msg, callback) creates a ZMQ_REQ socket,
connects it to ENDPOINT, sends MSG and polls it (as part of the normal
event loop) until a reply is received. When this happens, it calls
CALLBACK (a unary function) and closes the socket.

TODO:
- Add types to FD, timer ID
- telnet linemode

- Move zmq api to a callback-focussed setup: there's no reason for
  there to be one privileged rep/pub socket:

  foo = mud.zmq.socket('req')
  foo.send(bar, function (response) end)
