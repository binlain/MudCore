\input texinfo @c -*- texinfo -*-
@c %**start of header
@setfilename mudcore.info
@settitle MudCore Reference Manual, Version @value{VERSION}
@c %**end of header

@include version.texi

@copying
This manual is for MudCore, version @value{VERSION}.

Copyright @copyright{} 2011 Jack Kelly.

@quotation
TODO licence text
@end quotation
@end copying

@titlepage
@title MudCore Reference Manual, Version @value{VERSION}
@author Jack Kelly

@page
@vskip 0pt plus 1filll
@insertcopying
@end titlepage

@contents

@ifnottex
@node Top
@top MudCore Reference Manual

This manual is for MudCore, version @value{VERSION}.
@end ifnottex

@menu
* Invocation:: What goes on the command-line.
* Lua API Reference:: Functions available to Lua code.
* C API Reference:: Autogenerated documentation for C functions.
@end menu

@node Invocation
@chapter Invocation

Running @code{mudcore} starts the mud. Log files are written to
@code{./log}. Once sockets are opened, the Lua interpreter is started
and @code{./lua/boot.lua} is run. Control is then handed to the main
loop.

The following options modify the behaviour of the mud:
@table @samp
@item -(no-)file-logging
(Dis)able logging to files.

@item -port=PORT
Set the port for the mud's main socket.

@item -zmq-pub-endpoint=ENDPOINT
Set the ZeroMQ endpoint for the @code{ZMQ_PUB} socket.

@item -zmq-req-endpoint=ENDPOINT
Set the ZeroMQ endpoint for the @code{ZMQ_REQ} socket.

All command-line arguments are available to Lua code. @xref{mud.args}.
@end table

@node Lua API Reference
@chapter Lua API reference

This chapter details the API available to Lua code. All functions are
accessed through the global @code{mud} table.

@menu
* mud.args:: Access the command-line arguments.
* mud.log:: Logging facility.
@end menu

@include mud.args.texi
@include mud.log.texi

@node C API Reference
@chapter C API Reference
This chapter contains autogenerated documentation extracted from each C
header.

@menu
* arg_parse.h:: Argument parsing.
* log.h:: Logging facility.
* lua_api.h:: Lua API.
* lua_args.h:: Lua command-line arguments.
* lua_log.h:: Lua logging API.
* options.h:: Command-line options used by C code.
@end menu

@include arg_parse.h.texi
@include log.h.texi
@include lua_api.h.texi
@include lua_args.h.texi
@include lua_log.h.texi
@include options.h.texi

@bye
